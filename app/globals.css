/* app/globals.css */

/* Optional: Font imports if you use them here */
/* @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap'); */

/* --- Tailwind directives MUST come first --- */
@tailwind base;
@tailwind components;
@tailwind utilities;
/* --- End Tailwind directives --- */

/* Add custom base styles or overrides AFTER Tailwind directives */
body {
  @apply p-0 m-0 antialiased text-gray-800 bg-gray-100; /* Removed default margin/padding, smooth fonts, base text color */
  /* font-family: 'Inter', sans-serif; */ /* Apply font here if not using next/font */
}

/* Ensure map container takes up space WITHIN ITS PARENT */
.leaflet-container {
  height: 100%;
  width: 100%;
  background-color: #f3f4f6; /* Light gray background while tiles load */
}

/* Style Marker Cluster plugin */
/* Note: These might conflict slightly with the more specific rules below. Review if needed. */
/* .marker-cluster-small { background-color: rgba(180, 200, 220, 0.6); } */
/* .marker-cluster-small div { background-color: rgba(80, 120, 160, 0.6); } */

/* Custom Leaflet popup styling */
.leaflet-popup-content-wrapper {
  @apply rounded-lg shadow-lg border border-gray-100;
}
.leaflet-popup-content {
  @apply text-sm font-sans; /* Ensure popup uses the theme font */
  margin: 10px 15px !important; /* Adjust Leaflet default padding */
}
.leaflet-popup-tip-container {
  visibility: hidden; /* Hide the default triangle */
}

/* Style for user location marker */
.user-location-marker div {
  box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.8); /* White ring */
}

/* --- Custom Marker Cluster Styling --- */
.marker-cluster {
  width: 48px !important;
  height: 48px !important;
  border-radius: 50% !important;
  /* Add a subtle box-shadow for depth */
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.4);
  /* Default background will be the outer ring color */
  /* Transition for hover effects if any */
  transition: background-color 0.2s ease-in-out;
}

.marker-cluster div {
  width: 44px !important;
  height: 44px !important;
  margin-left: 2px !important;
  margin-top: 2px !important;
  border-radius: 50% !important;

  /* Text styling */
  text-align: center;
  color: #ffffff; /* White text for contrast */
  font-size: 16px !important; /* Keep size */
  font-weight: 700 !important; /* Make slightly bolder */
  line-height: 44px !important; /* Keep vertical alignment */

  /* Default inner background */
  /* Transition for background changes */
  transition: background-color 0.2s ease-in-out;
}

/* --- Specific Cluster Sizes --- */

/* SMALL Clusters (e.g., < 10 markers) */
.marker-cluster-small {
  /* Outer Ring: Lighter/desaturated olive */
  background-color: rgba(
    170,
    173,
    155,
    0.6
  ); /* Derived from #8A8D7B, with alpha */
}
.marker-cluster-small div {
  /* Inner Circle: Brand dark green, decent opacity */
  background-color: rgba(51, 76, 63, 0.75); /* #334C3F with alpha */
}

/* MEDIUM Clusters (e.g., 10 - 99 markers) */
.marker-cluster-medium {
  /* Outer Ring: Brand olive */
  background-color: rgba(138, 141, 123, 0.7); /* #8A8D7B with alpha */
  /* Optional: Slightly larger size for medium? */
  width: 52px !important;
  height: 52px !important;
}
.marker-cluster-medium div {
  /* Inner Circle: Brand dark green, higher opacity */
  background-color: rgba(51, 76, 63, 0.9); /* #334C3F with more alpha */
  /* Adjust inner size/positioning if parent size changed */
  width: 48px !important;
  height: 48px !important;
  line-height: 48px !important;
  margin-left: 2px !important;
  margin-top: 2px !important;
}

/* LARGE Clusters (e.g., 100+ markers) */
.marker-cluster-large {
  /* Outer Ring: Brand dark green */
  background-color: rgba(51, 76, 63, 0.8); /* #334C3F with alpha */
  /* Optional: Even larger size? */
  width: 56px !important;
  height: 56px !important;
}
.marker-cluster-large div {
  /* Inner Circle: Slightly darker/more opaque, or different color */
  /* Option 1: Darker Green */
  background-color: rgba(35, 56, 45, 0.95); /* Darkened #334C3F */
  /* Option 2: Brand Red for high density alert (use if appropriate) */
  /* background-color: rgba(180, 32, 37, 0.9); */ /* #B42025 with alpha */

  /* Adjust inner size/positioning if parent size changed */
  width: 52px !important;
  height: 52px !important;
  line-height: 52px !important;
  margin-left: 2px !important;
  margin-top: 2px !important;
}

/* Optional: Hover effect for clusters */
.marker-cluster:hover {
  /* Example: Slightly lighten the outer ring */
  background-color: rgba(
    180,
    183,
    165,
    0.7
  ); /* Adjust based on which size is hovered */
}
.marker-cluster:hover div {
  /* Example: Make inner circle fully opaque */
  background-color: rgba(
    51,
    76,
    63,
    1
  ); /* Adjust based on which size is hovered */
}

/* --- FIX for Leaflet CSS image path error --- */
.leaflet-default-icon-path {
  background-image: none !important; /* Keep if needed, depends on icon setup */
}
/* --- End of FIX --- */

/* Optional: Keyframes if not in tailwind.config.js */
/* @layer utilities { ... } */
